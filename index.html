<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Guess What? 2025</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Titan+One&family=Nunito:wght@700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-cream: #FFF4E8;
            --text-dark: #000000;
        }

        body {
            background-color: var(--bg-cream);
            color: var(--text-dark);
            font-family: 'Nunito', sans-serif;
            overflow: hidden; 
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }
        .font-titan { font-family: 'Titan One', cursive; }
        
        .pattern-dots {
            background-image: radial-gradient(#E8E7E5 2px, transparent 2px);
            background-size: 24px 24px;
        }

        .brutal-shadow {
            box-shadow: 4px 4px 0px 0px #000000;
            border: 3px solid #000000;
        }
        .brutal-shadow:active {
            box-shadow: 2px 2px 0px 0px #000000;
            transform: translate(2px, 2px);
        }

        .border-black {
            border-color: #000000;
        }

        .text-stroke {
            -webkit-text-stroke: 1.5px #000000;
            paint-order: stroke fill;
        }
        .text-stroke-sm {
            -webkit-text-stroke: 0.8px #000000;
        }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const Icons = {
            Play: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>,
            Check: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>,
            RotateCcw: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 12" /><path d="M3 3v9h9" /></svg>,
            Trophy: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>,
            Clock: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Settings: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>,
            ArrowLeft: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>,
            HelpCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>
        };

        const CATEGORIES = [
            {
                id: 'pop-stars',
                title: 'Pop Stars',
                icon: 'üé§',
                color: 'bg-[#F48B94]',
                text: 'text-black',
                description: '2015-2025 Hit Makers',
                words: ['Taylor Swift', 'Justin Bieber', 'Ariana Grande', 'BTS', 'BLACKPINK', 'Drake', 'Ed Sheeran', 'Adele', 'The Weeknd', 'Bruno Mars', 'Lady Gaga', 'Billie Eilish', 'Harry Styles', 'Dua Lipa', 'Post Malone', 'Kendrick Lamar', 'Bad Bunny', 'Olivia Rodrigo', 'Doja Cat', 'Travis Scott', 'Cardi B', 'SZA', 'Rihanna', 'Sabrina Carpenter', 'Chappell Roan', 'Shawn Mendes', 'Camila Cabello', 'Halsey', 'Miley Cyrus']
            },
            {
                id: 'hit-songs',
                title: 'Hit Songs',
                icon: 'üéµ',
                color: 'bg-[#6C5B7B]',
                text: 'text-white',
                description: 'Global Hits 2015-2025',
                words: ['Uptown Funk', 'Shape of You', 'Despacito', 'Blinding Lights', 'Old Town Road', 'Bad Guy', 'Drivers License', 'As It Was', 'Flowers', 'Anti-Hero', 'Seven', 'Butter', 'Dynamite', 'Kill This Love', 'Stay', 'Peaches', 'Watermelon Sugar', 'Levitating', 'WAP', 'Savage', 'About Damn Time', 'Easy On Me', 'Hello', 'Cheap Thrills', 'Closer', 'Se√±orita', 'Thank U, Next', 'Espresso', 'Vampire']
            },
            {
                id: 'mandopop',
                title: 'Mandopop',
                icon: 'üáπüáº', 
                color: 'bg-[#F7A8A6]',
                text: 'text-black',
                description: 'Artists & Songs',
                words: ['Âë®Êù∞ÂÄ´', 'ÂëäÁôΩÊ∞£ÁêÉ', 'Ëî°‰æùÊûó', 'Áé´Áë∞Â∞ëÂπ¥', '‰∫îÊúàÂ§©', 'Ê¥æÂ∞çÂãïÁâ©', 'Âëä‰∫î‰∫∫', 'Âú®ÈÄôÂ∫ßÂüéÂ∏ÇÈÅ∫Â§±‰∫Ü‰Ω†', 'ÊÉ≥Ë¶ã‰Ω†ÊÉ≥Ë¶ã‰Ω†ÊÉ≥Ë¶ã‰Ω†', 'ÂÖ´‰∏âÂ§≠', 'ËåÑÂ≠êËõã', 'Êµ™Â≠êÂõûÈ†≠', 'ËçâÊù±Ê≤íÊúâÊ¥æÂ∞ç', 'ÈÑßÁ¥´Ê£ã', 'ÂÖâÂπ¥‰πãÂ§ñ', 'ÊùéÊ¶ÆÊµ©', 'ÁÉèÊ¢ÖÂ≠êÈÜ¨', 'ÁõßÂª£‰ª≤', 'ÂàªÂú®ÊàëÂøÉÂ∫ïÁöÑÂêçÂ≠ó', 'Áî∞È¶•ÁîÑ', 'Â∞èÂπ∏ÈÅã', 'ÂºµÊÉ†Â¶π', 'ÈÄ£ÂêçÂ∏∂Âßì', 'ÊûóÂÆ•Âòâ', 'ÂÖúÂúà', 'Âë®ËààÂì≤', '‰ª•ÂæåÂà•ÂÅöÊúãÂèã', 'È´òÁàæÂÆ£', 'Without You', 'ÈüãÁ¶ÆÂÆâ', 'Â¶ÇÊûúÂèØ‰ª•', 'ÂãïÂäõÁÅ´Ëªä', 'È†ëÁ´• MJ116', 'Marz23', 'ÁêÜÊÉ≥Ê∑∑Ëõã']
            },
            {
                id: 'throwback',
                title: 'Throwback',
                icon: 'üíæ',
                color: 'bg-[#60698A]',
                text: 'text-white',
                description: '2000-2015 Nostalgia',
                words: ['Lady Gaga (Poker Face)', 'Justin Bieber (Baby)', 'One Direction', 'Katy Perry', 'Avril Lavigne', 'Blackberry', 'iPod Shuffle', 'MSN', 'Facebook Farmville', 'Angry Birds', 'Twilight Saga', 'Harry Potter', 'Hunger Games', 'Mean Girls', 'High School Musical', 'Gossip Girl', 'Nokia', 'The Avengers (2012)', 'Frozen (Let It Go)', 'Gangnam Style', 'Call Me Maybe', 'Rolling in the Deep', 'Single Ladies', 'Umbrella', 'Toxic', 'Hips Don\'t Lie']
            },
            {
                id: 'lit-major',
                title: 'Lit Major',
                icon: 'üìö',
                color: 'bg-[#E2BB78]',
                text: 'text-black',
                description: 'Authors & Classics',
                words: ['Shakespeare', 'Jane Austen', 'Pride and Prejudice', '1984', 'George Orwell', 'The Great Gatsby', 'F. Scott Fitzgerald', 'Moby Dick', 'Herman Melville', 'Frankenstein', 'Mary Shelley', 'Virginia Woolf', 'Mrs. Dalloway', 'James Joyce', 'Ulysses', 'Beowulf', 'The Canterbury Tales', 'Geoffrey Chaucer', 'Samuel Beckett', 'Waiting for Godot', 'Sylvia Plath', 'The Bell Jar', 'T.S. Eliot', 'The Waste Land', 'Charlotte Perkins Gilman', 'Homer', 'The Odyssey', 'Dante Alighieri', 'The Divine Comedy', 'Franz Kafka', 'The Metamorphosis']
            },
            {
                id: 'movies',
                title: 'Movies',
                icon: 'üé¨',
                color: 'bg-[#507E65]',
                text: 'text-white',
                description: 'Blockbusters 2015-2025',
                words: ['Avengers: Endgame', 'Barbie', 'Oppenheimer', 'Everything Everywhere All At Once', 'Parasite', 'La La Land', 'Spider-Man: No Way Home', 'Dune', 'Top Gun: Maverick', 'Black Panther', 'Joker', 'Coco', 'Inside Out', 'Zootopia', 'Get Out', 'A Star Is Born', 'Crazy Rich Asians', 'Bohemian Rhapsody', 'Avatar: The Way of Water', 'The Batman', 'Wonka', 'Deadpool', 'Wonder Woman', 'Mad Max: Fury Road', 'Interstellar', 'Knives Out', 'Moana']
            },
            {
                id: 'viral',
                title: 'Viral',
                icon: 'üî•',
                color: 'bg-[#FDCA58]',
                text: 'text-black',
                description: 'Memes 2015-2025',
                words: ['Skibidi Toilet', 'Rizz', 'Fanum Tax', 'Among Us', 'Squid Game', 'Barbenheimer', 'Ice Bucket Challenge', 'Pokemon Go', 'Fidget Spinner', 'Dab', 'Floss Dance', 'Old Town Road', 'TikTok', 'Area 51 Raid', 'Ok Boomer', 'Karen', 'Tiger King', 'Wordle', 'Roman Empire', 'Girl Dinner', 'Beige Flag', 'The Ick', 'Main Character Energy', 'Slay', 'Tea (Spill the tea)', 'Cap / No Cap', 'Simp', 'Cringe']
            },
            {
                id: 'brands',
                title: 'Brands',
                icon: 'üõçÔ∏è',
                color: 'bg-[#F8B196]',
                text: 'text-black',
                description: 'Trending Brands',
                words: ['Stanley Cup', 'TikTok', 'Shein', 'Temu', 'ChatGPT', 'Tesla', 'Spotify', 'Netflix', 'Discord', 'Roblox', 'Fortnite', 'Instagram', 'Crocs', 'Lululemon', 'Sephora', 'Starbucks', 'Nike', 'Apple', 'Dyson', 'Casetify', 'Uber', 'Airbnb', 'Zoom', 'Peloton', 'Impossible Burger', 'Oatly', 'Birkenstock', 'Uniqlo', 'Zara']
            }
        ];

        function App() {
            const [gameState, setGameState] = useState('menu'); 
            const [currentCategory, setCurrentCategory] = useState(null);
            const [gameWords, setGameWords] = useState([]);
            const [currentIndex, setCurrentIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [timeLeft, setTimeLeft] = useState(60);
            const [results, setResults] = useState([]); 
            const [settings, setSettings] = useState({ duration: 60 });
            const [showSettings, setShowSettings] = useState(false);
            const [showTutorial, setShowTutorial] = useState(false);
            
            const timerRef = useRef(null);
            const audioContextRef = useRef(null);

            const playSound = (type) => {
                if (!audioContextRef.current) {
                    audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();
                }
                const ctx = audioContextRef.current;
                const osc = ctx.createOscillator();
                const gainNode = ctx.createGain();
                osc.connect(gainNode);
                gainNode.connect(ctx.destination);
                const now = ctx.currentTime;
                if (type === 'correct') {
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(400, now);
                    osc.frequency.linearRampToValueAtTime(800, now + 0.1);
                    gainNode.gain.setValueAtTime(0.2, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.3);
                    osc.start(); osc.stop(now + 0.3);
                } else if (type === 'pass') {
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(300, now);
                    osc.frequency.linearRampToValueAtTime(200, now + 0.2);
                    gainNode.gain.setValueAtTime(0.2, now);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.3);
                    osc.start(); osc.stop(now + 0.3);
                } else if (type === 'end') {
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(500, now);
                    osc.frequency.linearRampToValueAtTime(200, now + 0.5);
                    gainNode.gain.setValueAtTime(0.4, now);
                    gainNode.gain.linearRampToValueAtTime(0, now + 1);
                    osc.start(); osc.stop(now + 1);
                }
            };

            const shuffleArray = (array) => {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            };

            const startGame = (category) => {
                setCurrentCategory(category);
                setGameWords(shuffleArray(category.words));
                setCurrentIndex(0);
                setScore(0);
                setResults([]);
                setTimeLeft(settings.duration);
                setGameState('ready');
            };

            const handleStartPlaying = () => {
                setGameState('playing');
            };

            useEffect(() => {
                if (gameState === 'playing') {
                    timerRef.current = setInterval(() => {
                        setTimeLeft((prev) => {
                            if (prev <= 1) {
                                clearInterval(timerRef.current);
                                playSound('end');
                                setGameState('results');
                                return 0;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                }
                return () => clearInterval(timerRef.current);
            }, [gameState]);

            useEffect(() => {
                if (gameState !== 'playing') return;
                const handleKeyDown = (e) => {
                    if (e.key === 'ArrowRight') handleAnswer('correct');
                    if (e.key === 'ArrowLeft') handleAnswer('pass');
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => {
                    window.removeEventListener('keydown', handleKeyDown);
                };
            }, [gameState, gameWords, currentIndex]); 

            const handleAnswer = (status) => {
                setResults(prev => [...prev, { word: gameWords[currentIndex], status }]);
                playSound(status);
                if (status === 'correct') setScore(s => s + 1);
                if (currentIndex < gameWords.length - 1) {
                    setCurrentIndex(prev => prev + 1);
                } else {
                    setGameWords(prev => {
                        const nextIndex = currentIndex + 1;
                        if(nextIndex >= prev.length) return shuffleArray(prev);
                        return prev;
                    });
                    if (currentIndex >= gameWords.length - 1) {
                        setCurrentIndex(0);
                    }
                }
            };

            const returnToMenu = () => {
                setGameState('menu');
                setCurrentCategory(null);
            };

            const isWhiteText = (cat) => cat.text === 'text-white';

            if (gameState === 'menu') {
                return (
                    <div className="min-h-screen pattern-dots flex flex-col pb-10">
                        <header className="p-4 flex justify-between items-center sticky top-0 z-10 bg-[#FFF4E8]/95 backdrop-blur-sm border-b-[3px] border-black">
                            <div>
                                <h1 className="text-3xl font-titan text-[#F48B94] uppercase tracking-wider text-stroke drop-shadow-[2px_2px_0_rgba(0,0,0,1)]">
                                    Guess What?
                                </h1>
                                <span className="text-xs font-black bg-black text-white px-2 py-0.5 inline-block transform -rotate-2 rounded-sm">2025 EDITION</span>
                            </div>
                            <div className="flex space-x-2">
                                <button onClick={() => setShowTutorial(true)} className="p-2 bg-white brutal-shadow rounded-full active:translate-y-1 active:shadow-none transition-all">
                                    <Icons.HelpCircle />
                                </button>
                                <button onClick={() => setShowSettings(true)} className="p-2 bg-white brutal-shadow rounded-full active:translate-y-1 active:shadow-none transition-all">
                                    <Icons.Settings />
                                </button>
                            </div>
                        </header>

                        <main className="flex-1 p-4 overflow-y-auto">
                            <div className="grid grid-cols-2 gap-4">
                                {CATEGORIES.map((cat) => (
                                    <button
                                        key={cat.id}
                                        onClick={() => startGame(cat)}
                                        className={`
                                            ${cat.color} ${cat.text} 
                                            relative h-40 rounded-2xl brutal-shadow
                                            flex flex-col items-center justify-center text-center p-2 group
                                            active:shadow-none active:translate-x-[4px] active:translate-y-[4px] transition-all
                                        `}
                                    >
                                        <div className="text-5xl mb-2 filter drop-shadow-md transform group-hover:scale-110 transition-transform">{cat.icon}</div>
                                        <h3 className={`font-titan text-lg uppercase tracking-wide leading-5 ${isWhiteText(cat) ? 'text-stroke-sm drop-shadow-md' : ''}`}>{cat.title}</h3>
                                    </button>
                                ))}
                            </div>
                        </main>

                        {showSettings && (
                            <div className="fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm">
                                <div className="bg-[#FDCA58] brutal-shadow rounded-2xl w-full max-w-sm p-6 relative border-[3px] border-black">
                                    <button onClick={() => setShowSettings(false)} className="absolute top-4 right-4 bg-white border-2 border-black rounded-full p-1 hover:bg-gray-100">
                                        <Icons.X />
                                    </button>
                                    <h3 className="text-2xl font-titan text-black mb-6 uppercase">Settings</h3>
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-black text-black mb-2 uppercase">Time per Round</label>
                                            <div className="grid grid-cols-4 gap-2">
                                                {[30, 60, 90, 120].map(t => (
                                                    <button
                                                        key={t}
                                                        onClick={() => setSettings(s => ({ ...s, duration: t }))}
                                                        className={`
                                                            py-2 rounded-lg font-black border-2 border-black transition-all
                                                            ${settings.duration === t ? 'bg-black text-white' : 'bg-white text-black'}
                                                        `}
                                                    >
                                                        {t}s
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                    <button onClick={() => setShowSettings(false)} className="mt-8 w-full bg-[#F48B94] text-white border-[3px] border-black py-3 rounded-xl font-titan text-xl uppercase brutal-shadow active:translate-y-[2px] active:shadow-none transition-all">
                                        Save
                                    </button>
                                </div>
                            </div>
                        )}

                        {showTutorial && (
                            <div className="fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm">
                                <div className="bg-white brutal-shadow rounded-2xl w-full max-w-sm p-6 text-center border-[3px] border-black">
                                    <div className="text-5xl mb-4 animate-bounce">ü§î</div>
                                    <h3 className="text-2xl font-titan mb-4 text-black">How to Play</h3>
                                    <div className="space-y-3 text-left bg-[#FFF4E8] p-4 rounded-xl border-2 border-black mb-6 font-bold text-sm text-black">
                                        <p>1. ÈÅ∏‰∏ÄÂÄã‰∏ªÈ°å</p>
                                        <p>2. ÊâãÊ©üÊîæÈ°çÈ†≠</p>
                                        <p>3. Á≠îÂ∞çÊåâÁ∂†Ëâ≤ (Correct)</p>
                                        <p>4. Ê≤í‰∏≠ÊåâÁ¥ÖËâ≤ (Pass)</p>
                                    </div>
                                    <button onClick={() => setShowTutorial(false)} className="w-full bg-[#7FC7DB] text-white border-[3px] border-black py-3 rounded-xl font-titan text-xl uppercase brutal-shadow active:translate-y-[2px] active:shadow-none transition-all">
                                        Got It!
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                );
            }

            if (gameState === 'ready') {
                return (
                    <div className={`fixed inset-0 ${currentCategory.color} flex flex-col items-center justify-center z-50`}>
                        <button onClick={returnToMenu} className={`absolute top-6 left-6 p-3 bg-white ${isWhiteText(currentCategory) ? 'text-black' : currentCategory.text} border-[3px] border-black rounded-full brutal-shadow active:translate-y-[2px] active:shadow-none transition-all`}>
                            <Icons.ArrowLeft />
                        </button>
                        
                        <div className={`text-9xl mb-6 animate-bounce filter ${isWhiteText(currentCategory) ? 'drop-shadow-[4px_4px_0_rgba(0,0,0,1)]' : ''} ${currentCategory.text}`}>{currentCategory.icon}</div>
                        <h2 className={`text-6xl font-titan mb-4 text-center px-4 uppercase tracking-wide ${currentCategory.text} ${isWhiteText(currentCategory) ? 'text-stroke drop-shadow-[4px_4px_0_rgba(0,0,0,1)]' : ''}`}>
                            {currentCategory.title}
                        </h2>
                        
                        <div className="bg-black text-white px-6 py-2 rounded-lg font-bold transform -rotate-1 mb-12 border-2 border-white text-xl">
                            {currentCategory.description}
                        </div>
                        
                        <button onClick={handleStartPlaying} className={`bg-white ${isWhiteText(currentCategory) ? 'text-black' : currentCategory.text} px-12 py-6 rounded-2xl border-[4px] border-black text-4xl font-titan brutal-shadow active:translate-y-[4px] active:shadow-none transition-all flex items-center space-x-3`}>
                            <span><Icons.Play /></span>
                            <span>START</span>
                        </button>
                        <p className={`mt-8 font-black uppercase tracking-widest bg-black/20 px-4 py-1 rounded-full text-sm ${isWhiteText(currentCategory) ? 'text-white' : 'text-black'}`}>Place on forehead</p>
                    </div>
                );
            }

            if (gameState === 'playing') {
                return (
                    <div className={`fixed inset-0 ${currentCategory.color} flex flex-col z-50`}>
                        <div className="flex justify-between items-center p-6 relative z-10">
                            <button onClick={() => setGameState('results')} className={`px-4 py-2 bg-black/20 rounded-lg font-bold border-2 border-white/50 ${currentCategory.text}`}>
                                End Game
                            </button>
                            <div className="flex items-center space-x-2 font-black font-mono text-4xl bg-white text-black px-4 py-2 rounded-xl border-[3px] border-black brutal-shadow">
                                <span className={timeLeft <= 10 ? 'text-[#F48B94]' : ''}>{timeLeft}</span>
                            </div>
                        </div>

                        <div className="flex-1 flex items-center justify-center p-4 relative">
                            <div className="text-center w-full max-w-2xl px-2">
                                {/* Â≠óÈ´îÂ§ßÂ∞èË™øÊï¥ÔºöÁ∏ÆÂ∞è‰∏ÄÈªû‰ª•ÂÆπÁ¥çÈï∑Ê®ôÈ°å */}
                                <h2 className={`text-5xl md:text-8xl font-titan leading-tight tracking-tight select-none break-words ${currentCategory.text} ${isWhiteText(currentCategory) ? 'text-stroke drop-shadow-[6px_6px_0_rgba(0,0,0,1)]' : ''}`}>
                                    {gameWords[currentIndex]}
                                </h2>
                            </div>
                        </div>

                        <div className="h-1/3 flex border-t-[4px] border-black">
                            <button onClick={() => handleAnswer('pass')} className="flex-1 bg-[#F48B94] active:bg-[#e07a83] text-white flex flex-col items-center justify-center border-r-[4px] border-black relative group">
                                <div className="transform scale-150 mb-2 drop-shadow-md"><Icons.X /></div>
                                <span className="font-titan text-4xl uppercase tracking-wider text-stroke drop-shadow-md">PASS</span>
                            </button>
                            
                            <button onClick={() => handleAnswer('correct')} className="flex-1 bg-[#ADDCC9] active:bg-[#9ccbb8] text-white flex flex-col items-center justify-center relative group">
                                <div className="transform scale-150 mb-2 drop-shadow-md"><Icons.Check /></div>
                                <span className="font-titan text-4xl uppercase tracking-wider text-stroke drop-shadow-md">CORRECT</span>
                            </button>
                        </div>
                    </div>
                );
            }

            if (gameState === 'results') {
                return (
                    <div className="min-h-screen pattern-dots flex flex-col z-50 bg-[#FFF4E8]">
                        <div className={`${currentCategory.color} ${currentCategory.text} p-8 rounded-b-[3rem] border-b-[4px] border-black shadow-xl flex flex-col items-center relative overflow-hidden`}>
                           <div className={`text-[#FDCA58] transform scale-150 mb-4 ${isWhiteText(currentCategory) ? 'drop-shadow-[4px_4px_0_rgba(0,0,0,1)]' : ''}`}><Icons.Trophy /></div>
                           <h2 className="text-3xl font-black uppercase tracking-widest bg-black text-white px-4 py-1 transform -rotate-2 rounded-sm mb-4">Time's Up!</h2>
                           <div className={`text-9xl font-titan ${isWhiteText(currentCategory) ? 'text-stroke drop-shadow-[6px_6px_0_rgba(0,0,0,1)]' : ''}`}>{score}</div>
                           <p className="font-black uppercase tracking-wider opacity-90 mt-2 text-xl">Correct Answers</p>
                        </div>

                        <div className="flex-1 p-6 overflow-y-auto">
                            <h3 className="font-titan text-3xl text-black mb-4 uppercase">Recap</h3>
                            <div className="space-y-3 pb-24">
                                {results.map((res, idx) => (
                                    <div key={idx} className="flex items-center justify-between p-4 bg-white rounded-xl border-[3px] border-black brutal-shadow">
                                        <span className="font-bold text-xl text-black font-nunito">{res.word}</span>
                                        {res.status === 'correct' ? (
                                            <div className="bg-[#ADDCC9] text-white p-2 rounded-lg border-2 border-black"><Icons.Check /></div>
                                        ) : (
                                            <div className="bg-[#F48B94] text-white p-2 rounded-lg border-2 border-black"><Icons.X /></div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="p-4 bg-white border-t-[4px] border-black sticky bottom-0 flex space-x-4">
                            <button onClick={returnToMenu} className="flex-1 py-4 bg-gray-100 text-black border-[3px] border-black rounded-xl font-titan text-xl uppercase tracking-wide active:translate-y-[2px] transition-all">
                                Menu
                            </button>
                            <button onClick={() => startGame(currentCategory)} className="flex-1 py-4 bg-[#FDCA58] text-black border-[3px] border-black rounded-xl font-titan text-xl uppercase tracking-wide brutal-shadow active:translate-y-[2px] active:shadow-none transition-all flex items-center justify-center space-x-2">
                                <span>Replay</span>
                            </button>
                        </div>
                    </div>
                );
            }
            return null;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
